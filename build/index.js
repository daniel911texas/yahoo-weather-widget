!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,o=window.wp.blockEditor,a=window.wp.components;(0,t.registerBlockType)("yahoo-weather-widget/yahoo-weather-block",{apiVersion:2,title:"Yahoo Weather Block",icon:"cloud",category:"widgets",attributes:{location:{type:"string",default:"San Francisco, CA"}},edit:t=>{let{attributes:n,setAttributes:i}=t;const l=(0,o.useBlockProps)(),[c,r]=(0,e.useState)(null);return(0,e.createElement)("div",l,(0,e.createElement)(a.TextControl,{label:"Location",value:n.location,onChange:e=>{i({location:e}),(async()=>{const e=`https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22${encodeURIComponent(n.location)}%22)&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys`,t=await fetch(e),o=await t.json();r(o)})()}}),c&&(0,e.createElement)("div",{className:"yahoo-weather"},(0,e.createElement)("div",{className:"yahoo-weather-location"},n.location),(0,e.createElement)("div",{className:"yahoo-weather-condition"},c.query.results.channel.item.condition.text),(0,e.createElement)("div",{className:"yahoo-weather-temperature"},c.query.results.channel.item.condition.temp,"Â°F")))},save:()=>null})}();